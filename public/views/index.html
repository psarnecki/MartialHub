<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="public/styles/main.css">
    <script src="public/scripts/events.js" defer></script>

    <title>MartialHub - Dashboard</title>
</head>
<body>
    <nav>
        <a href="/index" class="logo">MartialHub</a>
        <div class="nav-right">
            <div class="nav-links">
                <a href="/events">EVENTS</a>
                <a href="/rankings">RANKINGS</a>
                <a href="/profile">ATHLETES</a>
            </div>
            <div class="nav-buttons">
                <a href="/register" class="btn-signup">CREATE ACCOUNT</a>
                <a href="/login" class="btn-login">LOG IN</a>
            </div>
        </div>
    </nav>

    <main class="main-content">
        <?php if(isset($featuredEvent)): ?>
        <header class="hero-container" style="background-image: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('<?= $featuredEvent->getImageUrl(); ?>');">
            <h1><?= $featuredEvent->getTitle(); ?></h1>
            <p><?= $featuredEvent->getFormattedDate(); ?>, <?= $featuredEvent->getLocation(); ?></p>
            <div class="hero-btns">
                <a href="/eventDetails/<?= $featuredEvent->getId(); ?>" class="btn-hero-red">SEE DETAILS</a>
                <a href="/events" class="btn-hero-white">ALL EVENTS</a>
            </div>
        </header>
        <?php endif; ?>

        <div class="tabs-container">
            <a href="#" id="tab-upcoming" class="tab active" onclick="filterEvents('UPCOMING', event)">UPCOMING</a>
            <a href="#" id="tab-completed" class="tab" onclick="filterEvents('COMPLETED', event)">COMPLETED</a>
        </div>

        <section class="event-grid" id="event-grid">
            <?php if(isset($events)): ?>
                <?php foreach ($events as $event): ?>
                    <a href="/eventDetails/<?= $event->getId(); ?>" class="event-card">
                        <div class="img-placeholder">
                            <img src="<?= $event->getImageUrl(); ?>" alt="">
                        </div>
                        <h3><?= $event->getTitle(); ?></h3>
                        <p><?= $event->getFormattedDate(); ?>, <?= $event->getLocation(); ?></p>
                    </a>
                <?php endforeach; ?>
            <?php endif; ?>
        </section>
    </main>
</body>
</html>